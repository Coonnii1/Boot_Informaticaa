<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bot UNAB</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    .chat-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      overflow-y: auto;
      scroll-behavior: smooth;
      background: #fff;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    .message {
      margin-bottom: 15px;
      padding: 10px 15px;
      border-radius: 10px;
      max-width: 80%;
      line-height: 1.4;
      word-wrap: break-word;
      white-space: pre-line;
    }
    .bot {
      background-color: #e2f0ff;
      align-self: flex-start;
      color: #000;
      position: relative;
    }
    .user {
      background-color: #d1ffd1;
      align-self: flex-end;
      color: #000;
      position: relative;
    }
    .hora {
      font-size: 0.75rem;
      color: #555;
      margin-top: 3px;
      text-align: right;
    }
    a {
      color: #004488;
      text-decoration: underline;
    }
    .input-container {
      display: flex;
      padding: 15px;
      background-color: #fff;
      border-top: 1px solid #ccc;
    }
    input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 20px;
      font-size: 16px;
    }
    button {
      margin-left: 10px;
      padding: 10px 15px;
      background-color: #0055a5;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #003d7a;
    }
    .quick-replies {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .quick-replies button {
      background-color: #0084ff;
      color: white;
      padding: 8px 14px;
      border-radius: 15px;
      font-size: 14px;
      cursor: pointer;
      border: none;
      transition: background-color 0.3s;
      flex-shrink: 0;
    }
    .quick-replies button:hover {
      background-color: #005bb5;
    }
    .typing {
      font-style: italic;
      color: #666;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="chat-container" id="chat"></div>
  <div class="input-container">
    <input type="text" id="input" placeholder="Escribe tu mensaje aqu√≠..." autofocus autocomplete="off" />
    <button id="send">Enviar</button>
  </div>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("input");
    const sendBtn = document.getElementById("send");

    const temas = {
      certificado: {
        keywords: ["certificado", "alumno regular", "documento", "c√≥mo pedir certificados", "c√≥mo solicitar certificado", "c√≥mo sacar certificado"],
        respuesta: `üìÑ Para solicitar tus certificados acad√©micos:
1. Ingresa a <a href="https://certificados.unab.cl/" target="_blank" rel="noopener noreferrer">certificados.unab.cl</a>.
2. Inicia sesi√≥n con tu cuenta UNAB.
3. Selecciona el tipo de certificado que necesitas (alumno regular, concentraci√≥n de notas, etc.).
4. Puedes descargarlo directamente o solicitar que te lo env√≠en por correo electr√≥nico.
Si tienes problemas, contacta a Servicio al Estudiante para soporte.`
      },
      calendario: {
        keywords: ["calendario", "plazos", "fechas", "solicitudes"],
        respuesta: `üóìÔ∏è Aqu√≠ tienes el Calendario Acad√©mico y de Solicitudes:
1. Puedes descargar el PDF oficial con todas las fechas y plazos aqu√≠:
<a href="https://www.unab.cl/servicioestudiante/wp-content/uploads/2022/11/Solicitudes-Semestrales.pdf" target="_blank" rel="noopener noreferrer">Descargar Calendario Acad√©mico 2025 (PDF)</a>.
2. Para hacer solicitudes, dependiendo de lo que necesites, puedes usar:
‚Ä¢ <a href="https://portal2.unab.cl/home?check_logged_in=1" target="_blank" rel="noopener noreferrer">Intranet UNAB</a> para tr√°mites administrativos internos.
‚Ä¢ <a href="https://www.unab.cl/servicioestudiante/login-gestiona-caso/" target="_blank" rel="noopener noreferrer">Gestiona tu Caso</a> para solicitudes que requieren atenci√≥n personalizada.
3. Revisa bien los plazos en el PDF y elige el canal adecuado seg√∫n tu tr√°mite.
Si tienes dudas, siempre puedes consultar a Servicio al Estudiante.`
      },
      horario: {
        keywords: ["horario", "clases", "d√≥nde veo mi horario", "c√≥mo ver horario", "ver horario"],
        respuesta: `üìÖ Para revisar tu horario de clases:
1. Ingresa a la plataforma oficial en <a href="https://www.unab.cl/servicioestudiante/horarios/" target="_blank" rel="noopener noreferrer">Horarios UNAB</a>.
2. Accede con tu cuenta y contrase√±a.
3. Podr√°s ver tus horarios por carrera, sede y periodo.
Recuerda verificar tu horario antes de cada semestre para evitar conflictos.`
      },
      matricula: {
        keywords: ["matricula", "matr√≠cula"],
        respuesta: `üéì Para realizar tu matr√≠cula:
1. Ingresa a <a href="https://matricula.unab.cl/" target="_blank" rel="noopener noreferrer">matricula.unab.cl</a>.
2. Accede con tu usuario y contrase√±a.
3. Sigue los pasos indicados para formalizar tu matr√≠cula.
4. Revisa que tus datos y asignaturas est√©n correctos.
Si tienes inconvenientes, contacta a la oficina de matr√≠cula.`
      },
      becas: {
        keywords: ["beca", "cr√©dito", "financiamiento", "arancel", "beneficio"],
        respuesta: `üéì Informaci√≥n sobre becas y financiamiento:
1. Consulta las opciones disponibles en <a href="https://www.unab.cl/servicioestudiante/becas-y-creditos/" target="_blank" rel="noopener noreferrer">Becas y Cr√©ditos UNAB</a>.
2. Lee los requisitos para postular a cada beneficio.
3. Completa la postulaci√≥n dentro de los plazos establecidos.
4. Mantente atento a la resoluci√≥n y seguimiento.
Tambi√©n puedes asesorarte en la oficina de bienestar estudiantil.`
      },
      clave: {
        keywords: ["clave", "contrase√±a", "no puedo entrar", "acceso", "recuperar clave"],
        respuesta: `üîê Si tienes problemas con tu clave de acceso:
1. Visita <a href="https://www.unab.cl/servicioestudiante/claves-y-accesos/" target="_blank" rel="noopener noreferrer">Recuperar acceso UNAB</a>.
2. Sigue el proceso para restablecer tu contrase√±a.
3. Si no puedes recuperarla, contacta al soporte t√©cnico.
Mant√©n tu clave segura y actual√≠zala peri√≥dicamente.`
      },
      correo: {
        keywords: ["correo institucional", "outlook", "email", "mail"],
        respuesta: `üìß Para acceder a tu correo institucional:
1. Ve a <a href="https://outlook.office365.com" target="_blank" rel="noopener noreferrer">Outlook Office 365</a>.
2. Ingresa con tu usuario y contrase√±a UNAB.
3. Revisa tus mensajes, notificaciones y comunicaciones oficiales.
Es importante revisar el correo con frecuencia para estar al d√≠a.`
      },
      software: {
        keywords: ["licencias", "azure", "jetbrains", "software gratuito"],
        respuesta: `üíª Software gratuito para estudiantes:
1. Ingresa a <a href="https://azureforeducation.microsoft.com/devtools" target="_blank" rel="noopener noreferrer">Azure Dev Tools</a>.
2. Accede con tu cuenta UNAB.
3. Descarga las licencias de software disponibles (JetBrains, Microsoft, etc.).
4. Sigue las instrucciones de instalaci√≥n.
Aprovecha estas herramientas para tus proyectos y estudios.`
      },
      emociones: {
        keywords: ["estr√©s", "estres", "triste", "mal", "ansiedad"],
        respuesta: `üß† Si te sientes estresado o necesitas apoyo emocional:
1. Puedes acudir al √°rea de bienestar estudiantil.
2. Visita <a href="https://www.unab.cl/desarrolloestudiantil/" target="_blank" rel="noopener noreferrer">Bienestar UNAB</a> para m√°s informaci√≥n.
3. Ellos te ofrecen apoyo psicol√≥gico, talleres y actividades para tu bienestar.
No dudes en buscar ayuda cuando la necesites.`
      },
      gracias: {
        keywords: ["gracias", "perfecto", "vale", "bac√°n", "chao", "nos vemos", "adi√≥s"],
        respuesta: `üòä ¬°De nada! Si necesitas algo m√°s, aqu√≠ estar√© para ayudarte. ¬°Que tengas un excelente d√≠a!`
      },
      intranet: {
        keywords: ["intranet", "banner"],
        respuesta: `üîó Para acceder a la Intranet UNAB:
1. Visita <a href="https://portal2.unab.cl/home?check_logged_in=1" target="_blank" rel="noopener noreferrer">Intranet UNAB</a>.
2. Ingresa con tus credenciales.
3. Aqu√≠ encontrar√°s informaci√≥n institucional y servicios para estudiantes.
Es una plataforma clave para tr√°mites internos.`
      },
      titulacion: {
        keywords: ["titulaci√≥n", "licenciatura", "egreso"],
        respuesta: `üéì Para el proceso de Titulaci√≥n y Licenciatura:
1. Consulta los requisitos y pasos en <a href="https://www.unab.cl/servicioestudiante/licenciatura-y-titulacion/" target="_blank" rel="noopener noreferrer">Informaci√≥n de Titulaci√≥n UNAB</a>.
2. Entrega la documentaci√≥n solicitada.
3. Realiza los tr√°mites en tiempo y forma.
Para dudas, contacta a la unidad de titulaci√≥n.`
      },
      ficha: {
        keywords: ["notas", "ficha curricular", "mis ramos"],
        respuesta: `üìò Consulta tus notas y ficha curricular:
1. Ingresa a <a href="https://www.unab.cl/servicioestudiante/notas-y-ficha-curricular/" target="_blank" rel="noopener noreferrer">Notas y Ficha Curricular UNAB</a>.
2. Accede con tu cuenta.
3. Revisa tu rendimiento acad√©mico y plan de estudios.
Importante para planificar tus pr√≥ximos ramos.`
      },
      deportes: {
        keywords: ["deporte", "actividad f√≠sica", "gym"],
        respuesta: `‚öΩ Actividades deportivas en UNAB:
1. Revisa las opciones y horarios en <a href="https://www.unab.cl/desarrolloestudiantil/area/deportes-unab/" target="_blank" rel="noopener noreferrer">Deportes UNAB</a>.
2. Participa en talleres y campeonatos.
3. Mantente activo y saludable.
El deporte es clave para tu bienestar integral.`
      },
      cultura: {
        keywords: ["cultura", "talleres", "extracurriculares", "arte"],
        respuesta: `üé≠ Actividades culturales y talleres:
1. Consulta la oferta en <a href="https://cultura.unab.cl" target="_blank" rel="noopener noreferrer">Cultura UNAB</a>.
2. Participa en talleres art√≠sticos y eventos.
3. Enriqu√©cete con actividades extracurriculares.
¬°No todo es estudio, tambi√©n hay espacio para el arte!`
      },
      tne: {
        keywords: ["tne", "pase escolar", "tarjeta nacional estudiantil"],
        respuesta: `ü™™ Informaci√≥n sobre la Tarjeta Nacional Estudiantil (TNE):
1. Visita <a href="https://www.unab.cl/servicioestudiante/tne/" target="_blank" rel="noopener noreferrer">TNE UNAB</a>.
2. Consulta requisitos y plazos para solicitar tu pase escolar.
3. Realiza el tr√°mite correspondiente.
Viaja con beneficios durante tu etapa estudiantil.`
      },
      empleo: {
        keywords: ["trabajo", "empleo", "portal laboral"],
        respuesta: `üíº Portal de empleabilidad y ofertas laborales:
1. Ingresa a <a href="https://unabcl-csm.symplicity.com/students/index.php?signin_tab=0" target="_blank" rel="noopener noreferrer">Portal de Empleo UNAB</a>.
2. Revisa las ofertas de trabajo disponibles.
3. Post√∫late a las vacantes y mejora tu experiencia profesional.
Aprovecha las oportunidades que ofrece la universidad.`
      },
      practica: {
        keywords: ["pr√°ctica", "practica", "informaci√≥n pr√°ctica", "charlas pr√°ctica", "requisitos pr√°ctica"],
        respuesta: `üíº Informaci√≥n sobre Pr√°cticas Profesionales:
La pr√°ctica es una etapa fundamental para adquirir experiencia profesional. Aqu√≠ algunos puntos clave:
1. La universidad ofrece charlas informativas para orientarte en el proceso de pr√°ctica.
2. Debes cumplir ciertos requisitos acad√©micos para postular.
3. Se recomienda preparar tu curr√≠culum y participar activamente en las charlas y talleres.
4. La pr√°ctica te permite aplicar lo aprendido y ampliar tu red profesional.
Consulta con tu carrera para detalles espec√≠ficos sobre fechas, informes y seguimiento.`
      },
      tomaderamos: {
        keywords: ["toma de ramos", "inscripci√≥n de ramos", "inscribir ramos"],
        respuesta: `üìö Para la toma de ramos:
1. Ingresa a <a href="https://tomaderamos.unab.cl/" target="_blank" rel="noopener noreferrer">Toma de Ramos UNAB</a>.
2. Accede con tu cuenta.
3. Selecciona y confirma tus asignaturas para el semestre.
Consulta los tutoriales si es la primera vez que realizas la inscripci√≥n.`
      },
      default: {
        respuesta: `ü§î No encontr√© exactamente lo que buscas. Intenta preguntar de otra forma o visita:
<a href="https://www.unab.cl/servicioestudiante/" target="_blank" rel="noopener noreferrer">Servicio al Estudiante UNAB</a>`
      }
    };

    function obtenerHora() {
      const now = new Date();
      return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    function agregarMensaje(texto, tipo) {
      const mensaje = document.createElement("div");
      mensaje.classList.add("message", tipo);
      mensaje.innerHTML = texto;

      const hora = document.createElement("div");
      hora.classList.add("hora");
      hora.innerText = obtenerHora();
      mensaje.appendChild(hora);

      chat.appendChild(mensaje);
      chat.scrollTop = chat.scrollHeight;
    }

    function mostrarTyping() {
      const typing = document.createElement("div");
      typing.classList.add("typing");
      typing.id = "typing";
      typing.innerText = "Bot UNAB est√° escribiendo...";
      chat.appendChild(typing);
      chat.scrollTop = chat.scrollHeight;
    }

    function eliminarTyping() {
      const typing = document.getElementById("typing");
      if (typing) typing.remove();
    }

    function obtenerRespuesta(texto) {
      const textoLower = texto.toLowerCase();
      for (const tema in temas) {
        if (tema === "default") continue;
        for (const palabraClave of temas[tema].keywords) {
          if (textoLower.includes(palabraClave)) {
            return temas[tema].respuesta;
          }
        }
      }
      return temas.default.respuesta;
    }

    function sendMessage(texto) {
      if (!texto) return;

      agregarMensaje(texto, "user");
      input.value = "";

      mostrarTyping();

      setTimeout(() => {
        eliminarTyping();
        const respuesta = obtenerRespuesta(texto);
        agregarMensaje(respuesta, "bot");
      }, 900);
    }

    sendBtn.addEventListener("click", () => {
      sendMessage(input.value.trim());
    });

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        sendMessage(input.value.trim());
      }
    });

    // --- Quick replies ---
    const quickReplies = [
      { text: "üìÑ Certificados", tema: "certificado" },
      { text: "üóìÔ∏è Calendario Acad√©mico", tema: "calendario" },
      { text: "üìÖ Horario", tema: "horario" },
      { text: "üéì Matr√≠cula", tema: "matricula" },
      { text: "üéì Becas y Cr√©ditos", tema: "becas" },
      { text: "üîê Clave y Acceso", tema: "clave" },
      { text: "üìß Correo Institucional", tema: "correo" },
      { text: "üíª Software", tema: "software" },
      { text: "üíº Pr√°cticas", tema: "practica" },
      { text: "üíº Empleo", tema: "empleo" },
      { text: "üìö Toma de Ramos", tema: "tomaderamos" },
      { text: "üîó Intranet", tema: "intranet" },
      { text: "üéì Titulaci√≥n", tema: "titulacion" },
      { text: "üìò Notas y Ficha Curricular", tema: "ficha" },
      { text: "‚öΩ Deportes", tema: "deportes" },
      { text: "üé≠ Cultura y Talleres", tema: "cultura" },
      { text: "ü™™ TNE", tema: "tne" },
      { text: "üß† Bienestar Emocional", tema: "emociones" }
    ];

    function crearQuickReplies() {
      const container = document.createElement("div");
      container.classList.add("quick-replies");
      quickReplies.forEach(qr => {
        const btn = document.createElement("button");
        btn.textContent = qr.text;
        btn.addEventListener("click", () => {
          sendMessage(qr.text);
        });
        container.appendChild(btn);
      });
      chat.appendChild(container);
      chat.scrollTop = chat.scrollHeight;
    }

    // Mensaje inicial sin el listado en la bienvenida principal (solo saludo)
    function mostrarMensajeBienvenida() {
      const bienvenida = `üëã ¬°Hola! Soy el bot de la UNAB. ¬øEn qu√© puedo ayudarte hoy? Puedes escribir o elegir alguna opci√≥n abajo.`;
      agregarMensaje(bienvenida, "bot");
      crearQuickReplies();
    }

    mostrarMensajeBienvenida();
  </script>
</body>
</html>
